import{r as s,d as n,o as r,b as c,j as d,c as k,f as i}from"./app-iwPyhcQ0.js";import u from"./NavBar-COCdpFOs.js";import g from"./BeachBackground-jY91cebr.js";import _ from"./HammockGrid-DYAlaWcX.js";import D from"./ReservationModal-Bo4nf2B_.js";import{_ as f}from"./_plugin-vue_export-helper-DlAUqK2U.js";const v={components:{NavBar:u,BeachBackground:g,HammockGrid:_,ReservationModal:D},data(){return{selectedDate:new Date().toISOString().split("T")[0],isClosed:!1,gridData:[],showModal:!1,selectedHammock:null,prices:{}}},async mounted(){await this.loadHammocks()},methods:{async loadHammocks(){try{const e=await i.get(`/api/hammock-spaces?date=${this.selectedDate}`);this.isClosed=e.data.isClosed,this.gridData=e.data.hammocks||[],this.prices=e.data.prices||{}}catch(e){console.error("Error loading hammocks:",e)}},updateDate(e){this.selectedDate=e,this.loadHammocks()},openReservationModal(e){this.selectedHammock=e,this.showModal=!0},async reserve(e){try{await i.post("/api/bookings",{hammock_id:this.selectedHammock.id,date:this.selectedDate,time_slot:e.type,comment:e.comment,type:e.type}),this.showModal=!1,this.loadHammocks()}catch(a){console.error("Error reservando:",a)}}}},H={class:"relative min-h-screen bg-repeat bg-center grid-container",style:{"background-image":"url('/images/arena.jpg')","background-size":"auto 200px"}},M={key:0,class:"text-center bg-red-500 text-white p-2 rounded"};function B(e,a,w,y,o,t){const l=s("NavBar"),m=s("BeachBackground"),p=s("HammockGrid"),h=s("ReservationModal");return r(),n("div",H,[c(l,{selectedDate:o.selectedDate,onUpdateDate:t.updateDate},null,8,["selectedDate","onUpdateDate"]),c(m),o.isClosed?(r(),n("div",M," ðŸ“¢ El servicio estÃ¡ cerrado en esta fecha. ")):d("",!0),c(p,{gridData:o.gridData,onOpenModal:t.openReservationModal},null,8,["gridData","onOpenModal"]),o.showModal?(r(),k(h,{key:1,selectedHammock:o.selectedHammock,selectedDate:o.selectedDate,prices:this.prices,onCloseModal:a[0]||(a[0]=R=>o.showModal=!1),onReserve:t.reserve,onRefreshGrid:t.loadHammocks},null,8,["selectedHammock","selectedDate","prices","onReserve","onRefreshGrid"])):d("",!0)])}const O=f(v,[["render",B]]);export{O as default};
